# (C) Copyright 2023 Hewlett Packard Enterprise Development LP
---
  name: Ubuntu-18.04-20201103-v2
  id: 3de686c3-654b-4613-92b5-407f77b2dd13
  resource_type: service
  schema_version: v2
  type: deploy
  svc_category: linux
  svc_flavor: ubuntu
  svc_ver: 18.04-20201103
  description: v2 service client install service test
  hoster_use: true
  project_use: true
  timeout: 1800
  device_layouts:
    - device: /dev/sda
      table_type: gpt
      partitions:
        - type: efi
          formula:
            equation: 250M
          mount: /boot/efi
        - type: ext4
          formula:
            equation: 500M
          mount: /boot
          bootable: true
        - type: ext4
          formula: {}
          mount: /
          mount_options: errors=remount-ro
        - type: swap
          formula:
            equation: 100%memory
            max_size: 25%disk
          mount_options: defaults
  files:
    - path: image.tgz
      file_size: 540167804
      display_url: https://images.hpedemo.net/images/v2-ubuntu-18.04-image.tgz-2fbffcb8-7985-4f8c-b0ce-a666758dca79
      download_timeout: 300
      signature: 8fcc249a1bc488fe8d6d84e70ffa60c57dcd4b1ea70518624b4e0d7a9e616075
      algorithm: sha256sum
      expand: false
  info:
    - contents: I2Nsb3VkLWNvbmZpZwptZXJnZV9ob3c6CiAgLSBuYW1lOiAgICAgbGlzdAogICAgc2V0dGluZ3M6IFthcHBlbmRdCiAgLSBuYW1lOiAgICAgZGljdAogICAgc2V0dGluZ3M6IFtub19yZXBsYWNlLCByZWN1cnNlX2xpc3RdCgpob3N0bmFtZToge3sgLk5hbWV9fQp7ey0gaWYgY29udGFpbnMgLk5hbWUgIi4ifX0KZnFkbjogICAgIHt7IC5OYW1lIH19Cnt7ZWxzZX19CmZxZG46ICAgICB7eyAuTmFtZSB9fS5sb2NhbGRvbWFpbiAKe3tlbmR9fQptYW5hZ2VfZXRjX2hvc3RzOiB0cnVlCgojIHNldHVwIFNTSCBrZXlzCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp1c2VyczoKICAtIG5hbWU6IHJvb3QKe3stIGlmIC5TU0hLZXlzIH19CiAgICBzc2hfYXV0aG9yaXplZF9rZXlzOgogIHt7LSByYW5nZSAka2V5IDo9IC5TU0hLZXlzfX0KICAgICAgLSB7eyRrZXkgfX0KICB7ey0gZW5kfX0Ke3tlbmR9fQoKIyBpc2NzaSwgcHJveHkgYW5kIG50cCBpbmZvCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp7ey0gLyogZXh0cmFjdCBwcm94eSBhbmQgbnRwIGluZm8gZnJvbSBIb3N0RGVmIHN0cnVjdCAqL319Cnt7LSAkcHJveHkgOj0gIiIgfX0Ke3stICRub19wcm94eSA6PSAiIiB9fQp7ey0gJG50cCA6PSAiIn19Cnt7LSByYW5nZSAuQ29ubmVjdGlvbnMgfX0KICB7ey0gcmFuZ2UgLk5ldHdvcmtzIH19CiAgICB7ey0gcmFuZ2UgLlJhbmdlcyB9fQogICAgICB7ey0gaWYgIC5Qcm94eSB9fQogICAgICAgIHt7LSAkcHJveHkgPSAuUHJveHkgfX0KICAgICAgICB7ey0gJG5vX3Byb3h5ID0gLk5vUHJveHkgfX0KICAgICAge3stIGVuZH19CiAgICAgIHt7LSBpZiAuTlRQfX0KICAgICAgICB7ey0gJG50cCA9IC5OVFB9fQogICAgICB7ey0gZW5kfX0KICAgIHt7LSBlbmR9fQogIHt7LSBlbmR9fQp7ey0gZW5kfX0KCnt7LSAvKiB2ZXJpZnkgdGhlICd3cml0ZV9maWxlczogaXMgbmVlZGVkICovfX0Ke3stIGlmICBvciAuSW5pdGlhdG9yTmFtZSAuQ0hBUFNlY3JldCAkcHJveHl9fQp3cml0ZV9maWxlczoKe3stIGVuZH19CiAge3stIGlmICAuSW5pdGlhdG9yTmFtZX19CiAgLSBwYXRoOiAvZXRjL2lzY3NpL2luaXRpYXRvcm5hbWUuaXNjc2kKICAgIG93bmVyOiByb290CiAgICBwZXJtaXNzaW9uczogMDY0NAogICAgY29udGVudDogfAogICAgICBJbml0aWF0b3JOYW1lPXt7LkluaXRpYXRvck5hbWV9fQogIHt7LSBlbmR9fQogIHt7LSBpZiAgLkNIQVBTZWNyZXR9fQogIC0gcGF0aDogL2V0Yy9pc2NzaS9pc2NzaWQuY29uZgogICAgb3duZXI6IHJvb3QKICAgIHBlcm1pc3Npb25zOiAwNjQ0CiAgICBjb250ZW50OiB8CiAgICAgIG5vZGUuc2Vzc2lvbi5hdXRoLmF1dGhtZXRob2QgPSBDSEFQCiAgICAgIG5vZGUuc2Vzc2lvbi5hdXRoLnVzZXJuYW1lID0ge3suQ0hBUFVzZXJ9fQogICAgICBub2RlLnNlc3Npb24uYXV0aC5wYXNzd29yZCA9IHt7LkNIQVBTZWNyZXR9fQogIHt7LSBlbmR9fQogIHt7LSBpZiAkcHJveHkgfX0KICAtIHBhdGg6IC9ldGMvZW52aXJvbm1lbnQKICAgIG93bmVyOiByb290CiAgICBwZXJtaXNzaW9uczogMDY0NAogICAgY29udGVudDogfAogICAgICAgIGh0dHBfcHJveHk9e3skcHJveHl9fQogICAgICAgIGh0dHBzX3Byb3h5PXt7JHByb3h5fX0KICAgICAgICBub19wcm94eT17eyRub19wcm94eX19CiAgICAgICAgSFRUUF9QUk9YWT17eyRwcm94eX19CiAgICAgICAgSFRUUFNfUFJPWFk9e3skcHJveHl9fQogICAgICAgIE5PX1BST1hZPXt7JG5vX3Byb3h5fX0KICB7ey0gZW5kfX0KCnt7IGlmIC5Db25uZWN0aW9uc319CiMgbmV0d29yayBjb25uZWN0aW9ucwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbmV0d29yazoKICB2ZXJzaW9uOiAxCiAgY29uZmlnOgogIHt7LSAkdmxhbl9wYXJlbnQgOj0gIiJ9fQogIHt7LSByYW5nZSAuQ29ubmVjdGlvbnN9fQogIHt7LSBpZiBlcSAobGVuIC5JbnRlcmZhY2VzKSAxfX0KICAgICMgc2luZ2xlIGludGVyZmFjZQogICAge3stICRpZmFjZSA6PSBpbmRleCAuSW50ZXJmYWNlcyAwfX0KICAgIC0gdHlwZTogcGh5c2ljYWwKICAgICAgbmFtZToge3skaWZhY2UuTmFtZX19CiAgICAgIG1hY19hZGRyZXNzOiB7eyRpZmFjZS5IV0FkZHJ9fQogICAgICB7ey0gJHZsYW5fcGFyZW50ID0gJGlmYWNlLk5hbWV9fQogIHt7LSBlbHNlfX0KICAgICMgbXVsdGlwbGUgaW50ZXJmYWNlcyB0aGF0IGFyZSBib25kZWQKICAgIHt7LSByYW5nZSAuSW50ZXJmYWNlc319CiAgICAtIHR5cGU6IHBoeXNpY2FsCiAgICAgIG5hbWU6IHt7Lk5hbWV9fQogICAgICBtYWNfYWRkcmVzczoge3suSFdBZGRyfX0KICAgIHt7LSBlbmR9fQogICAgLSB0eXBlOiBib25kCiAgICAgIG5hbWU6IHt7Lk5hbWV9fQogICAgICBib25kX2ludGVyZmFjZXM6CiAgICAgIHt7LSByYW5nZSAuSW50ZXJmYWNlc319CiAgICAgIC0gIHt7Lk5hbWV9fQogICAgICB7ey0gZW5kfX0KICAgICAgcGFyYW1zOgogICAgICAgICAgYm9uZC1tb2RlOiAyIAogICAgICAgICAgYm9uZC14bWl0X2hhc2hfcG9saWN5OiAyCiAgICAgIHt7LSAkdmxhbl9wYXJlbnQgPSAuTmFtZX19IAogIHt7LSBlbmR9fQoKICB7ey0gaWYgZ3QgLlVudGFnZ2VkTmV0LlZJRCAwIH19CiAgICAgICMgdW50YWdnZWQgbmV0d29yawogICAgICB7ey0gJG5ldF96ZXJvIDo9IC5VbnRhZ2dlZE5ldCB9fQogICAgICB7ey0gJHJhbmdlX3plcm8gOj0gaW5kZXggJG5ldF96ZXJvLlJhbmdlcyAwIH19CiAgICAgIHN1Ym5ldHM6CiAgICAgIC0gdHlwZTogc3RhdGljCiAgICAgICAgYWRkcmVzczoge3skcmFuZ2VfemVyby5CYXNlfX0ve3skcmFuZ2VfemVyby5DSURSfX0KICAgICAgICBnYXRld2F5OiB7eyRyYW5nZV96ZXJvLkdhdGV3YXl9fQogICAgICAgIHt7LSBpZiAkcmFuZ2VfemVyby5ETlN9fQogICAgICAgIGRuc19uYW1lc2VydmVyczoKICAgICAgICAgIHt7LSByYW5nZSAkcmFuZ2VfemVyby5ETlN9fQogICAgICAgICAgLSB7ey59fQogICAgICAgICAge3stIGVuZH19CiAgICAgICAge3stIGVuZH19CiAge3stIGVuZCB9fQogIHt7LSBpZiBndCAobGVuIC5OZXR3b3JrcykgMCB9fQoKICAgICMgbXVsdGlwbGUgbmV0d29ya3Mgd2l0aCB2bGFucwogICAge3stIHJhbmdlIC5OZXR3b3Jrc319CiAgICAtIHR5cGU6IHZsYW4KICAgICAgbmFtZToge3skdmxhbl9wYXJlbnR9fS57ey5WSUR9fQogICAgICB2bGFuX2xpbms6ICB7eyR2bGFuX3BhcmVudH19CiAgICAgIHZsYW5faWQ6IHt7LlZJRH19CiAgICAgIHt7LSAkcmFuZ2VfemVybyA6PSBpbmRleCAuUmFuZ2VzIDB9fQogICAgICBzdWJuZXRzOgogICAgICAtIHR5cGU6IHN0YXRpYwogICAgICAgIGFkZHJlc3M6IHt7JHJhbmdlX3plcm8uQmFzZX19L3t7JHJhbmdlX3plcm8uQ0lEUn19CiAgICAgICAgZ2F0ZXdheToge3skcmFuZ2VfemVyby5HYXRld2F5fX0KICAgICAgICB7ey0gaWYgJHJhbmdlX3plcm8uRE5TfX0KICAgICAgICBkbnNfbmFtZXNlcnZlcnM6CiAgICAgICAgICB7ey0gcmFuZ2UgJHJhbmdlX3plcm8uRE5TfX0KICAgICAgICAgIC0ge3sufX0KICAgICAgICAgIHt7LSBlbmR9fQogICAgICAgIHt7LSBlbmR9fQogICAgICB7ey0gZW5kfX0KICB7ey0gZW5kfX0KICB7ey0gZW5kfX0gIHt7LyogcmFuZ2UgLkNvbm5lY3Rpb25zICAqL319Cnt7LSBlbmR9fSAgICB7ey8qIGVuZCBpZiAuQ29ubmVjdGlvbnMgKi99fQoKe3stIGlmICRudHB9fQoKIyBOVFAgc2VydmVyIGluZm9ybWF0aW9uCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpudHA6CiAgZW5hYmxlZDogdHJ1ZQogIHNlcnZlcnM6CiAge3stIHJhbmdlICRudHB9fQogICAgLSB7ey59fQogIHt7LSBlbmR9fQp7ey0gZW5kfX0KCnt7LSBpZiAuVm9sdW1lQXR0YWNobWVudHN9fQoKIyBpU0NTSSBWb2x1bWUgYXR0YWNobWVudHMgCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpydW5jbWQ6Ci0gc3lzdGVtY3RsIGRpc2FibGUgaXNjc2lkLnNvY2tldAotIHN5c3RlbWN0bCBzdG9wIGlzY3NpZC5zb2NrZXQKLSBzeXN0ZW1jdGwgZW5hYmxlIGlzY3NpZAotIHN5c3RlbWN0bCByZXN0YXJ0IGlzY3NpZAotIGlzY3NpYWRtIC0tbW9kZSBkaXNjb3ZlcnkgLXQgc2VuZHRhcmdldHMgIC1wICJ7ey5JU0NTSURpc2NvdmVyeUFkZHJlc3MgIH19IgogIHt7LSByYW5nZSAuVm9sdW1lQXR0YWNobWVudHN9fQotIGlzY3NpYWRtIC0tbW9kZSBub2RlIC0tdGFyZ2V0bmFtZSAie3suVGFyZ2V0SVFOfX0iIC1wICJ7ey5JUEFkZHJlc3N9fSIgLS1vcD11cGRhdGUgLS1uYW1lIG5vZGUuc3RhcnR1cCBhdXRvbWF0aWMKLSBpc2NzaWFkbSAtLW1vZGUgbm9kZSAtLXRhcmdldG5hbWUgInt7LlRhcmdldElRTn19IiAtcCAie3suSVBBZGRyZXNzfX0iIC0tbG9naW4KICB7ey0gZW5kfX0Ke3stIGVuZH19Cg==
      encoding: base64
      templating: go-text-template
      templating_input: hostdef-v2
      target: hdd
      path: /etc/cloud/cloud.cfg.d/95_datasource.cfg
  approach: svc-client
  assumed_boot_method: na
  