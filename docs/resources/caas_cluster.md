---
page_title: "hpegl_caas_cluster Resource - terraform-provider-hpegl"
subcategory: "caas"
description: |-
  The cluster resource facilitates the creation, updation and
  deletion of a CaaS cluster. There are four required inputs when
  creating a cluster - name, blueprint_id, site_id and space_id.
  worker_nodes is an optional input to scale nodes on cluster.
  Provide the min_size & max_size parameters to trigger Autoscaler.
  Kubernetes version upgrade is also supported while updating the cluster.
---
# hpegl_caas_cluster (Resource)

The cluster resource facilitates the creation, updation and
			deletion of a CaaS cluster. There are four required inputs when 
			creating a cluster - name, blueprint_id, site_id and space_id. 
			worker_nodes is an optional input to scale nodes on cluster.
            Provide the min_size & max_size parameters to trigger Autoscaler.
            Kubernetes version upgrade is also supported while updating the cluster.

## Example Usage

```terraform
# Copyright 2020-2023 Hewlett Packard Enterprise Development LP

terraform {
  required_providers {
    hpegl = {
      source  = "HPE/hpegl"
      version = ">= 0.1.0"
    }
  }
}

provider "hpegl" {
  caas {
  }
}

variable "HPEGL_SPACE" {
  type = string
}

data "hpegl_caas_site" "blr" {
  name     = "BLR"
  space_id = var.HPEGL_SPACE
}

data "hpegl_caas_cluster_blueprint" "bp" {
  name    = "demo"
  site_id = data.hpegl_caas_site.blr.id
}

data "hpegl_caas_machine_blueprint" "mbworker" {
  name    = "standard-worker"
  site_id = data.hpegl_caas_site.blr.id
}

resource "hpegl_caas_cluster" "test" {
  name               = "tf-test"
  blueprint_id       = data.hpegl_caas_cluster_blueprint.bp.id
  site_id            = data.hpegl_caas_site.blr.id
  space_id           = var.HPEGL_SPACE
  kubernetes_version = ""
  worker_nodes {
    name                 = "worker"
    machine_blueprint_id = data.hpegl_caas_machine_blueprint.mbworker.id
    min_size             = ""
    max_size             = ""
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `blueprint_id` (String)
- `name` (String)
- `site_id` (String)
- `space_id` (String)

### Optional

- `kubernetes_version` (String)
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `worker_nodes` (Block List) (see [below for nested schema](#nestedblock--worker_nodes))

### Read-Only

- `api_endpoint` (String)
- `appliance_name` (String)
- `cluster_provider` (String)
- `created_date` (String)
- `default_machine_sets` (List of Object) (see [below for nested schema](#nestedatt--default_machine_sets))
- `default_machine_sets_detail` (List of Object) (see [below for nested schema](#nestedatt--default_machine_sets_detail))
- `default_storage_class` (String)
- `default_storage_class_description` (String)
- `health` (String)
- `id` (String) The ID of this resource.
- `kubeconfig` (String)
- `last_update_date` (String)
- `machine_sets` (List of Object) (see [below for nested schema](#nestedatt--machine_sets))
- `machine_sets_detail` (List of Object) (see [below for nested schema](#nestedatt--machine_sets_detail))
- `service_endpoints` (List of Object) (see [below for nested schema](#nestedatt--service_endpoints))
- `state` (String)

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)


<a id="nestedblock--worker_nodes"></a>
### Nested Schema for `worker_nodes`

Required:

- `machine_blueprint_id` (String)
- `max_size` (Number)
- `min_size` (Number)
- `name` (String)


<a id="nestedatt--default_machine_sets"></a>
### Nested Schema for `default_machine_sets`

Read-Only:

- `machine_blueprint_id` (String)
- `max_size` (Number)
- `min_size` (Number)
- `name` (String)


<a id="nestedatt--default_machine_sets_detail"></a>
### Nested Schema for `default_machine_sets_detail`

Read-Only:

- `compute_type` (String)
- `machine_provider` (String)
- `machine_roles` (List of String)
- `machines` (List of Object) (see [below for nested schema](#nestedobjatt--default_machine_sets_detail--machines))
- `max_size` (Number)
- `min_size` (Number)
- `name` (String)
- `networks` (List of String)
- `proxy` (String)
- `size` (String)
- `size_detail` (List of Object) (see [below for nested schema](#nestedobjatt--default_machine_sets_detail--size_detail))
- `storage_type` (String)

<a id="nestedobjatt--default_machine_sets_detail--machines"></a>
### Nested Schema for `default_machine_sets_detail.machines`

Read-Only:

- `created_date` (String)
- `health` (String)
- `hostname` (String)
- `id` (String)
- `last_update_date` (String)
- `name` (String)
- `state` (String)


<a id="nestedobjatt--default_machine_sets_detail--size_detail"></a>
### Nested Schema for `default_machine_sets_detail.size_detail`

Read-Only:

- `cpu` (Number)
- `ephemeral_disk` (Number)
- `memory` (Number)
- `name` (String)
- `persistent_disk` (Number)
- `root_disk` (Number)



<a id="nestedatt--machine_sets"></a>
### Nested Schema for `machine_sets`

Read-Only:

- `machine_blueprint_id` (String)
- `max_size` (Number)
- `min_size` (Number)
- `name` (String)


<a id="nestedatt--machine_sets_detail"></a>
### Nested Schema for `machine_sets_detail`

Read-Only:

- `compute_type` (String)
- `machine_provider` (String)
- `machine_roles` (List of String)
- `machines` (List of Object) (see [below for nested schema](#nestedobjatt--machine_sets_detail--machines))
- `max_size` (Number)
- `min_size` (Number)
- `name` (String)
- `networks` (List of String)
- `proxy` (String)
- `size` (String)
- `size_detail` (List of Object) (see [below for nested schema](#nestedobjatt--machine_sets_detail--size_detail))
- `storage_type` (String)

<a id="nestedobjatt--machine_sets_detail--machines"></a>
### Nested Schema for `machine_sets_detail.machines`

Read-Only:

- `created_date` (String)
- `health` (String)
- `hostname` (String)
- `id` (String)
- `last_update_date` (String)
- `name` (String)
- `state` (String)


<a id="nestedobjatt--machine_sets_detail--size_detail"></a>
### Nested Schema for `machine_sets_detail.size_detail`

Read-Only:

- `cpu` (Number)
- `ephemeral_disk` (Number)
- `memory` (Number)
- `name` (String)
- `persistent_disk` (Number)
- `root_disk` (Number)



<a id="nestedatt--service_endpoints"></a>
### Nested Schema for `service_endpoints`

Read-Only:

- `endpoint` (String)
- `name` (String)
- `namespace` (String)
- `type` (String)


