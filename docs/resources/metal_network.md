---
page_title: "hpegl_metal_network Resource - terraform-provider-hpegl"
subcategory: "metal"
description: |-
  Provides Network resource. This allows creation, deletion and update of Metal networks.
---
# hpegl_metal_network (Resource)

Provides Network resource. This allows creation, deletion and update of Metal networks.

## Example Usage

```terraform
// (C) Copyright 2020-2022 Hewlett Packard Enterprise Development LP

provider "hpegl" {
  metal {
    gl_token = false
  }
}

variable "location" {
  // Provide a location at which to query for resources. 
  // The format is country:region:data-center
  default = "USA:Texas:AUSL2"
}

resource "hpegl_metal_network" "pnet" {
  name        = "pnet"
  description = "A description of pnet"
  location    = var.location
  ip_pool {
    name          = "npool"
    description   = "A description of npool"
    ip_ver        = "IPv4"
    base_ip       = "10.0.0.0"
    netmask       = "/24"
    default_route = "10.0.0.1"
    sources {
      base_ip = "10.0.0.3"
      count   = 10
    }
    dns      = ["10.0.0.50"]
    proxy    = "10.0.0.60"
    no_proxy = "10.0.0.5"
    ntp      = ["10.0.0.80"]
  }
  vlan = 4000
  vni  = 10400
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `location` (String) Textual representation of the location country:region:enter
- `name` (String)

### Optional

- `description` (String)
- `host_use` (String) Required, Optional or Default
- `ip_pool` (Block Set, Max: 1) Create the specified IP Pool to be used for the network (see [below for nested schema](#nestedblock--ip_pool))
- `purpose` (String) Purpose of the network. Allowed values: Backup, Storage, vmKernel, vmNSX-T, vMotion, vCHA, vmFT, iSCSI-A, iSCSI-B, Telemetry or External
- `vlan` (Number) Optional VLAN ID of the network. If not specified, it is allocated from reserved pool
- `vni` (Number) Optional VNI ID of the network. If not specified, it is allocated from reserved pool if required

### Read-Only

- `id` (String) The ID of this resource.
- `ip_pool_id` (String) IP pool ID associated with the network
- `location_id` (String) The PodID of the network

<a id="nestedblock--ip_pool"></a>
### Nested Schema for `ip_pool`

Required:

- `base_ip` (String) Base IP of the pool.
- `ip_ver` (String) IP version of the pool (IPv4 or IPv6).
- `name` (String) A friendly name of the IP pool.
- `netmask` (String) Netmask of the IP pool.

Optional:

- `default_route` (String) Default route of the IP pool.
- `description` (String) A description of the IP pool.
- `dns` (List of String) DNS servers to be specified in each allocation from the pool
- `no_proxy` (String) IPs or CIDRs for which proxy requests are not made.
- `ntp` (List of String) NTP servers of the IP pool
- `proxy` (String) Web-proxy for external internet access should this pool actually be behind a firewall.
- `sources` (Block List) IP ranges that are to be included in the pool within the base IP and netmask (see [below for nested schema](#nestedblock--ip_pool--sources))

<a id="nestedblock--ip_pool--sources"></a>
### Nested Schema for `ip_pool.sources`

Required:

- `base_ip` (String) Base IP for the source.
- `count` (Number) Number of IPs to include starting from the base.


