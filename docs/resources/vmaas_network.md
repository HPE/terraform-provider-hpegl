---
layout: ""
page_title: "hpegl_vmaas_network Resource - vmaas-terraform-resources"
subcategory: "vmaas"
description: |-
    Network resource facilitates creating,
  updating and deleting NSX-T Networks.
---

-> Compatible version >= 5.2.13

# Resource hpegl_vmaas_network

Network resource facilitates creating,
		updating and deleting NSX-T Networks.
`hpegl_vmaas_network` resource supports NSX-T network creation.
For more information, see [Private cloud networking using VMware NSX-T](https://www.hpe.com/info/HPE-GreenLake-private-cloud-networking).

For creating an NSX-T network, see the following examples.

## Example usage for creating Static NSX-T Network with all possible attributes

```terraform
# (C) Copyright 2021 Hewlett Packard Enterprise Development LP

resource "hpegl_vmaas_network" "test_net" {
  name              = "tf_nsx_t_static_network"
  description       = "Static Network create using tf"
  group_id          = data.hpegl_vmaas_group.default_group.id
  scope_id          = data.hpegl_vmaas_transport_zone.tf_zone.provider_id
  cidr              = "10.100.0.1/24"
  gateway           = "10.100.0.1"
  primary_dns       = "8.8.8.8"
  scan_network      = false
  active            = true
  dhcp_enabled      = false
  connected_gateway = data.hpegl_vmaas_router.tier1_router.provider_id
  resource_permissions {
    all = true
  }
  static_network {
    pool_id = data.hpegl_vmaas_network_pool.tf_pool.id
  }
}
```

## Example usage for creating DHCP NSX-T Network with all possible attributes

```terraform
# (C) Copyright 2021 Hewlett Packard Enterprise Development LP

resource "hpegl_vmaas_network" "dhcp_net" {
  name                       = "tf_nsx_t_dhcp_network"
  description                = "DHCP Network create using tf"
  display_name               = "tf_nsx_t_dhcp_network"
  scope_id                   = data.hpegl_vmaas_transport_zone.tf_zone.provider_id
  cidr                       = "10.100.0.1/24"
  primary_dns                = "8.8.8.8"
  scan_network               = false
  active                     = true
  allow_static_override      = true
  appliance_url_proxy_bypass = true
  group_id                   = "shared"
  dhcp_enabled               = true
  connected_gateway          = data.hpegl_vmaas_router.tier1_router.provider_id
  resource_permissions {
    all = true
  }
  dhcp_network {
    dhcp_type           = "dhcpLocal"
    dhcp_server         = data.hpegl_vmaas_dhcp_server.tf_dhcp.provider_id
    dhcp_lease_time     = "86400"
    dhcp_range          = "10.100.0.11-10.100.0.250"
    dhcp_server_address = "10.100.0.2/24"
  }
}
```

-> Transport Zone Data Source `hpegl_vmaas_transport_zone` which is used for the
`scope_id` is supported from 5.2.13.

~> There is an open issue with the Network Resource in 5.4.4 where it does not attach the provided IP pools.
This issue is already fixed in the later versions and will be released soon. For time being we are recommending manually
updating the IP pool from UI. This issue is fixed in 5.4.9 versions.

~> From 6.2.4 version, DataSource `hpegl_vmaas_network_type` expects `NSX Segment` instead of `NSX-T Segment` in the `name` attribute.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cidr` (String) Gateway Classless Inter-Domain Routing (CIDR) of the network
- `connected_gateway` (String) Connected Gateway. Pass Provider ID of the Tier1 gateway. Use hpegl_vmaas_router.provider_id  here.
- `group_id` (String) Group ID of the Network. Please use hpegl_vmaas_group data source to retrieve ID or pass `shared`.
- `name` (String) Name of the NSX-T Static Segment to be created.
- `scope_id` (String) Transport Zone ID. Use hpegl_vmaas_transport_zone Data source's `provider_id` here.

### Optional

- `active` (Boolean) Activate (`true`) or disable (`false`) the network
- `allow_static_override` (Boolean) If set to true, network will allow static override
- `appliance_url_proxy_bypass` (Boolean) Bypass Proxy for Appliance URL
- `description` (String) Description of the network to be created.
- `dhcp_enabled` (Boolean) Enable DHCP Server.
- `dhcp_network` (Block List, Max: 1) DHCP Network configuration (see [below for nested schema](#nestedblock--dhcp_network))
- `display_name` (String) Display name of the NSX-T network.
- `domain_id` (Number) ID of the Network domain. Use hpegl_vmaas_network_domain datasource to obtain the ID.
- `gateway` (String) Gateway IP address of the network
- `no_proxy` (String) List of IP addresses or name servers for which to exclude proxy traversal.
- `primary_dns` (String) Primary DNS IP Address
- `proxy_id` (Number) Network Proxy ID. Use hpegl_vmaas_network_proxy data source to obtain the ID.
- `resource_permissions` (Block List, Max: 1) (see [below for nested schema](#nestedblock--resource_permissions))
- `scan_network` (Boolean) Scan Network
- `search_domains` (String) Search Domains
- `secondary_dns` (String) Secondary DNS IP Address
- `static_network` (Block List, Max: 1) static Network configuration (see [below for nested schema](#nestedblock--static_network))
- `vlan_ids` (String) VLAN IDs eg. `0,3-5`. Use this field for VLAN based segments.

### Read-Only

- `code` (String) Network Type code
- `external_id` (String) External ID of the network
- `id` (String) The ID of this resource.
- `internal_id` (String) Internal ID of the network
- `status` (String) Status of the network
- `type_id` (Number) Type ID for the NSX-T Network.
- `unique_id` (String) Unique ID of the network

<a id="nestedblock--dhcp_network"></a>
### Nested Schema for `dhcp_network`

Required:

- `dhcp_lease_time` (String) DHCP Server default lease time
- `dhcp_range` (String) DHCP server IP Address range
- `dhcp_server` (String) DHCP server ID. Use hpegl_vmaas_dhcp_server Data source's `provider_id` here.
- `dhcp_type` (String) DHCP Server type. Supported Values is "dhcpLocal"

Optional:

- `dhcp_server_address` (String) DHCP Server address and its CIDR. This address must not overlap theip-ranges of the subnet, or the gateway address of the subnet,or the DHCP static-binding addresses of this segment


<a id="nestedblock--resource_permissions"></a>
### Nested Schema for `resource_permissions`

Optional:

- `all` (Boolean) Pass `true` to allow access to all groups.
- `sites` (Block List) List of sites/groups (see [below for nested schema](#nestedblock--resource_permissions--sites))

<a id="nestedblock--resource_permissions--sites"></a>
### Nested Schema for `resource_permissions.sites`

Required:

- `id` (Number) ID of the site/group

Optional:

- `default` (Boolean) Group Default Selection



<a id="nestedblock--static_network"></a>
### Nested Schema for `static_network`

Optional:

- `pool_id` (Number) Pool ID can be obtained with hpegl_vmaas_network_pool data source.
